<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | 404 NOT FOUND</title><meta name=keywords content><meta name=description content="Posts - 404 NOT FOUND"><meta name=author content="luyanliang"><link rel=canonical href=https://asukaonly.github.io/posts/><meta name=google-site-verification content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.3ff5f570b5b16b0e23d0321c28b0e4cafb146eb07d09df5a2b24b3030b3ff3f9.css integrity="sha256-P/X1cLWxaw4j0DIcKLDkyvsUbrB9Cd9aKySzAws/8/k=" rel="preload stylesheet" as=style><link rel=icon href=https://asukaonly.github.io/avatar.png><link rel=icon type=image/png sizes=16x16 href=https://asukaonly.github.io/avatar.png><link rel=icon type=image/png sizes=32x32 href=https://asukaonly.github.io/avatar.png><link rel=apple-touch-icon href=https://asukaonly.github.io/avatar.png><link rel=mask-icon href=https://asukaonly.github.io/avatar.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://asukaonly.github.io/posts/index.xml><link rel=alternate hreflang=en href=https://asukaonly.github.io/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://asukaonly.github.io/posts/"><meta property="og:site_name" content="404 NOT FOUND"><meta property="og:title" content="Posts"><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta property="og:image" content="https://asukaonly.github.io/avatar.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://asukaonly.github.io/avatar.png"><meta name=twitter:title content="Posts"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://asukaonly.github.io/posts/"}]}</script></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://asukaonly.github.io/ accesskey=h title="404 NOT FOUND (Alt + H)">404 NOT FOUND</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://asukaonly.github.io/posts/ title=Blog><span class=active>Blog</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://asukaonly.github.io/>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>å®¶åº­ç½‘ç»œè®¾è®¡æ–¹æ¡ˆï¼šä»ç†æƒ³åˆ°å®è·µçš„ä¸¤å¹´æ¼”è¿›</h2></header><div class=entry-content><p>å‰è¨€ æ—©åœ¨æ¯•ä¸šåçš„ç§Ÿæˆ¿æ—¶æœŸï¼Œæˆ‘å°±æ—¶å¸¸æœŸå¾…æ‹¥æœ‰è‡ªå·±çš„å®¶åè¦å¦‚ä½•æ”¹é€ å®¶åº­ç½‘ç»œã€‚æ¯æ¬¡çœ‹åˆ°ç½‘ä¸Šåšä¸»åˆ†äº«å†…ç½‘ä¸‡å…†ä¼ è¾“ã€æœåŠ¡å™¨æœºæŸœã€NAS é˜µåˆ—ç­‰å†…å®¹ï¼Œéƒ½ä¸ç¦å¿ƒç”Ÿç¾¡æ…•ã€‚2023å¹´æ–°å®¶å…¥ä½åï¼Œæˆ‘å¯¹å®¶åº­ç½‘ç»œçš„æ”¹é€ æ–­æ–­ç»­ç»­æŒç»­äº†ä¸¤å¹´ã€‚åˆ°äº†2025å¹´ï¼Œç»ˆäºæ˜¯æ—¶å€™å¯¹è¿™æ®µå†ç¨‹åšä¸€äº›æ€»ç»“äº†ã€‚
è¿™ç¯‡æ–‡ç« å°†é‡ç‚¹å›é¡¾è¿™ä¸¤å¹´æ¥å®¶åº­ç½‘ç»œç»“æ„çš„æ¼”è¿›è¿‡ç¨‹åŠèƒŒåçš„æ€è€ƒã€‚
æˆ¿å±‹ç»“æ„å’Œç½‘ç»œéœ€æ±‚ æˆ¿å±‹ä¸ºç²¾è£…äº¤ä»˜ï¼Œå‡ºäºæˆæœ¬è€ƒè™‘ï¼Œå…¥ä½æ—¶æœªå¯¹ç»“æ„è¿›è¡Œå¤§å¹…æ”¹é€ ï¼ˆè¿™ä¹Ÿä¸ºåç»­ç½‘ç»œæ”¹é€ åŸ‹ä¸‹äº†ä¸€äº›éšæ‚£ğŸ˜­ï¼‰ã€‚ç®€ç•¥ç»“æ„å¦‚ä¸‹ï¼š
å…¥ä½å‰æš´éœ²çš„ä¸»è¦é—®é¢˜æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š
å¼±ç”µç®±åµŒå…¥åœ¨è¿›é—¨é‹æŸœå†…ï¼Œç©ºé—´éå¸¸æœ‰é™ï¼Œéš¾ä»¥å®¹çº³è¾ƒå¤šè®¾å¤‡ï¼Œæ•£çƒ­ä¹Ÿè¾ƒå·®ã€‚ ç½‘å£æ•°é‡ä¸è¶³ï¼Œæ— çº¿APåªèƒ½æ”¾ç½®åœ¨å®¢å…ï¼Œä¹¦æˆ¿å­˜åœ¨ WiFiæ­»è§’ã€‚ é¢„åŸ‹ç½‘çº¿ä¸ºè¶…äº”ç±»ï¼Œè™½ç„¶çŸ­è·ç¦»å¯æ”¯æŒä¸‡å…†ï¼Œä½†ç¨³å®šæ€§ä¸ä½³ã€‚ æˆ‘å¯¹å®¶åº­ç½‘ç»œèƒ½åŠ›çš„ä¸»è¦éœ€æ±‚å¦‚ä¸‹ï¼š
éœ€æ±‚ å¿…è¦æ€§ å¤‡æ³¨ å…¨å±‹é€æ˜ä»£ç† â­â­â­â­â­ æ»¡è¶³å…¨å±‹ä»£ç†çš„åŒæ—¶ï¼Œéœ€è¦è¿‡æ»¤PTæµé‡/å¤§é™†åŸŸåè¯·æ±‚ç­‰ å†…ç½‘2.5Gé€Ÿç‡ â­â­â­â­â­ ç»¼åˆè€ƒè™‘ï¼Œéƒ¨ç½²ä¸‡å…†çš„æˆæœ¬è¿‡é«˜ï¼Œæ—¥å¸¸ä½¿ç”¨2.5Gå·²å¤Ÿä½¿ç”¨ å†…ç½‘ç©¿é€ â­â­â­â­ æ¸¸æˆè”æœº/å®¶åº­ç›¸å†Œå…±äº«éœ€è¦ æ”¯æŒå†…ç½‘ç§æœ‰åŸŸå â­â­â­â­ ç®€åŒ–æ—¥å¸¸å†…ç½‘éƒ¨ç½²åº”ç”¨çš„ä½¿ç”¨ ç½‘ç»œç›‘æ§/æ¢å¤èƒ½åŠ› â­â­â­ æå‡æ•…éšœé—®é¢˜å‘ç°ç‡ æ™ºèƒ½å®¶å±…å†…ç½‘éƒ¨ç½² â­â­ æå‡å“åº”é€Ÿåº¦å¹¶æ”¯æŒç¦»çº¿ä½¿ç”¨ éšç§è®¾å¤‡å­ç½‘éš”ç¦» â­â­ æ‘„åƒå¤´ã€ä¼ æ„Ÿå™¨ç±»iotè®¾å¤‡å±è”½å…¬ç½‘ å®¹ç¾èƒ½åŠ› â­ å‡å°‘æ•…éšœå‘ç”Ÿåçš„æ¢å¤æ—¶é—´ åŸºäºä»¥ä¸Šçš„éœ€æ±‚ï¼Œå¾—åˆ°ä»¥ä¸‹çš„åˆæ­¥ç»“è®º
ç”±äºéœ€è¦å…¨å±‹é€æ˜ä»£ç†ï¼Œæ•…éœ€è¦ä½¿ç”¨è½¯è·¯ç”±åšä¸»è·¯ç”±çš„æ–¹æ¡ˆï¼Œè¿™é‡Œæˆ‘é€‰ç”¨OpenWrtä½œä¸ºæˆ‘çš„è½¯è·¯ç”±ç³»ç»Ÿã€‚ï¼ˆä¸ªäººä¸å–œæ¬¢æ—è·¯ç”±æ¨¡å¼ï¼Œä¸å¤Ÿé€æ˜ä¹Ÿä¸å¤Ÿæ—ğŸ¶ï¼‰ ç”±äºéœ€è¦å…¨å±‹2.5Gé€Ÿç‡ï¼Œç¡¬ä»¶ä¸Šäº¤æ¢æœº/AP/è®¾å¤‡ç½‘å£å‡éœ€è¦æ”¯æŒ2.5Gåå•†é€Ÿç‡ã€‚ï¼ˆè¢«åªæ”¯æŒ1Gå’Œ10Gçš„ä¸‡å…†å¡å‘è¿‡ï¼‰ ç”±äºéœ€è¦å†…ç½‘ç©¿é€+ç§æœ‰åŸŸåç­‰éœ€æ±‚ï¼Œéœ€è¦è½¯è·¯ç”±ç³»ç»Ÿæœ‰ç›¸å…³çš„åŠŸèƒ½æ”¯æŒ.(å…³æ³¨ç‰ˆæœ¬åŠŸèƒ½) ç”±äºéœ€è¦æ™ºèƒ½å®¶å±…å†…ç½‘éƒ¨ç½²ï¼Œè´­ä¹°è®¾å¤‡æ—¶éœ€è¦å…³æ³¨æ˜¯å¦æ”¯æŒ Zigbee / Matter ç­‰åè®®ã€‚ 2023å¹´ï¼šä»é›¶æ­å»ºï¼Œå…ˆè·‘èµ·æ¥ ç‰©ç†æ‹“æ‰‘ 2023å¹´çš„ä¸»é¢˜æ˜¯å»ºè®¾ï¼Œåœ¨å…¥ä½åä¸ä¹…ï¼Œæˆ‘ä¾¿è®¾è®¡äº†å¦‚ä¸‹çš„ç½‘ç»œæ‹“æ‰‘ï¼š å¯ä»¥çœ‹åˆ°è¿™é‡Œç”¨äº†ä¸å¤ªå¸¸è§çš„å•è‡‚è·¯ç”±ä½œä¸ºä¸»è·¯ç”±è¿æ¥æ–¹æ¡ˆï¼Œå¹¶ä¸æ˜¯å› ä¸ºè½¯è·¯ç”±åªæœ‰ä¸€ä¸ªç½‘å£ï¼Œçº¯ç²¹æ˜¯å½“æ—¶è€ƒè™‘å¦‚æœè½¯è·¯ç”±æ”¾åœ¨å¼±ç”µç®±å†…æ•£çƒ­ä¸å¤ªå¥½ã€‚
æˆ‘çš„ä¸»è¦ç½‘ç»œè®¾å¤‡å¦‚ä¸‹ï¼š
è½¯è·¯ç”±ï¼šé›¶åˆ»EQ12(n100/16G) äº¤æ¢æœºï¼šTP-LINKç½‘ç®¡äº¤æ¢æœº + æ°´æ˜Ÿéç½‘ç®¡äº¤æ¢æœº æ— çº¿apï¼šå°ç±³AX7000 æœåŠ¡å™¨ï¼šX11SCA-F + E2144G + 64G ECC ç¡¬ä»¶é…ç½®ä¸Šæ™®æ™®é€šé€šï¼Œç”šè‡³æœ‰äº›å¯Œè£•ã€‚å½“ç„¶ï¼Œåœ¨é—²é±¼æ·˜çš„äº¤æ¢æœºè¿˜æ˜¯å¸¦èµ·äº†åç»­çš„ä¸€äº›å˜åŒ–ï¼ˆç¬‘
ç³»ç»Ÿæ¶æ„ ç³»ç»Ÿæ‹“æ‰‘å¦‚ä¸‹å›¾æ‰€ç¤º è½¯è·¯ç”± æˆ‘åœ¨ESXiä¸Šè™šæ‹ŸåŒ–è¿è¡ŒOpenWrtï¼Œä¸»è¦å‡ºäºä»¥ä¸‹è€ƒè™‘ï¼š
...</p></div><footer class=entry-footer><span title='2025-08-09 20:09:05 +0000 UTC'>August 9, 2025</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;421 words&nbsp;Â·&nbsp;luyanliang</footer><a class=entry-link aria-label="post link to å®¶åº­ç½‘ç»œè®¾è®¡æ–¹æ¡ˆï¼šä»ç†æƒ³åˆ°å®è·µçš„ä¸¤å¹´æ¼”è¿›" href=https://asukaonly.github.io/posts/home/%E5%AE%B6%E5%BA%AD%E6%95%B4%E4%BD%93%E7%BD%91%E7%BB%9C%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%A1%88/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Play frameworkæºç è§£æ Part3:Playçš„åˆå§‹åŒ–ä¸å¯åŠ¨</h2></header><div class=entry-content><p>åœ¨ä¸Šä¸€ç¯‡ä¸­ï¼Œæˆ‘ä»¬åˆ†æäº†playçš„2ç§å¯åŠ¨æ–¹å¼ï¼Œè¿™ä¸€ç¯‡ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹Playç±»çš„åˆå§‹åŒ–è¿‡ç¨‹
Playç±» æ— è®ºæ˜¯Serverè¿˜æ˜¯ServletWrapperæ–¹å¼è¿è¡Œï¼Œåœ¨ä»–ä»¬çš„å…¥å£ä¸­éƒ½ä¼šè¿è¡ŒPlay.init()æ¥å¯¹Playç±»è¿›è¡Œåˆå§‹åŒ–ã€‚é‚£åœ¨è§£æåˆå§‹åŒ–ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹Playç±»æ˜¯åšä»€ä¹ˆçš„ï¼Œå®ƒé‡Œé¢æœ‰ä»€ä¹ˆé‡è¦çš„æ–¹æ³•ã€‚ é¦–å…ˆè¦æ˜ç¡®çš„ä¸€ç‚¹æ˜¯ï¼ŒPlayç±»æ˜¯æ•´ä¸ªPlay frameworkæ¡†æ¶çš„ç®¡ç†ã€é…ç½®ä¸­å¿ƒï¼Œå®ƒå­˜æ”¾äº†å¤§éƒ¨åˆ†æ¡†æ¶éœ€è¦çš„æˆå‘˜å˜é‡ï¼Œä¾‹å¦‚id,é…ç½®ä¿¡æ¯,æ‰€æœ‰åŠ è½½çš„class,ä½¿ç”¨çš„æ’ä»¶ç®¡ç†å™¨ç­‰ç­‰ã€‚ä¸‹å›¾å°±æ˜¯Playç±»ä¸­çš„æ–¹æ³•åˆ—è¡¨ã€‚ è¿™å…¶ä¸­åŠ æ³¨é‡Šçš„å‡ ä¸ªæ–¹æ³•æ˜¯æ¯”è¾ƒé‡è¦çš„ï¼Œæˆ‘ä»¬ä¸‹é¢ä¾¿æ¥ä»initå¼€å§‹ä¸€ç‚¹ç‚¹å‰–æPlayç±»ä¸­çš„å„ä¸ªæ–¹æ³•ã€‚
Playçš„åˆå§‹åŒ– public static void init(File root, String id) { // Simple things Play.id = id; Play.started = false; Play.applicationPath = root; // åŠ è½½æ‰€æœ‰ play.static ä¸­çš„è®°å½•çš„ç±» initStaticStuff(); //çŒœæµ‹play frameworkçš„è·¯å¾„ guessFrameworkPath(); // è¯»å–é…ç½®æ–‡ä»¶ readConfiguration(); Play.classes = new ApplicationClasses(); // åˆå§‹åŒ–æ—¥å¿— Logger.init(); String logLevel = configuration.getProperty("application.log", "INFO"); //only override log-level if Logger was not configured manually if( !Logger.configuredManually) { Logger.setUp(logLevel); } Logger.recordCaller = Boolean.parseBoolean(configuration.getProperty("application.log.recordCaller", "false")); Logger.info("Starting %s", root.getAbsolutePath()); //è®¾ç½®ä¸´æ—¶æ–‡ä»¶å¤¹ if (configuration.getProperty("play.tmp", "tmp").equals("none")) { tmpDir = null; Logger.debug("No tmp folder will be used (play.tmp is set to none)"); } else { tmpDir = new File(configuration.getProperty("play.tmp", "tmp")); if (!tmpDir.isAbsolute()) { tmpDir = new File(applicationPath, tmpDir.getPath()); } if (Logger.isTraceEnabled()) { Logger.trace("Using %s as tmp dir", Play.tmpDir); } if (!tmpDir.exists()) { try { if (readOnlyTmp) { throw new Exception("ReadOnly tmp"); } tmpDir.mkdirs(); } catch (Throwable e) { tmpDir = null; Logger.warn("No tmp folder will be used (cannot create the tmp dir)"); } } } // è®¾ç½®è¿è¡Œæ¨¡å¼ try { mode = Mode.valueOf(configuration.getProperty("application.mode", "DEV").toUpperCase()); } catch (IllegalArgumentException e) { Logger.error("Illegal mode '%s', use either prod or dev", configuration.getProperty("application.mode")); fatalServerErrorOccurred(); } if (usePrecompiled || forceProd) { mode = Mode.PROD; } // è·å–httpä½¿ç”¨è·¯å¾„ ctxPath = configuration.getProperty("http.path", ctxPath); // è®¾ç½®æ–‡ä»¶è·¯å¾„ VirtualFile appRoot = VirtualFile.open(applicationPath); roots.add(appRoot); javaPath = new CopyOnWriteArrayList&lt;VirtualFile>(); javaPath.add(appRoot.child("app")); javaPath.add(appRoot.child("conf")); // è®¾ç½®æ¨¡æ¿è·¯å¾„ if (appRoot.child("app/views").exists()) { templatesPath = new ArrayList&lt;VirtualFile>(2); templatesPath.add(appRoot.child("app/views")); } else { templatesPath = new ArrayList&lt;VirtualFile>(1); } // è®¾ç½®è·¯ç”±æ–‡ä»¶ routes = appRoot.child("conf/routes"); // è®¾ç½®æ¨¡å—è·¯å¾„ modulesRoutes = new HashMap&lt;String, VirtualFile>(16); // åŠ è½½æ¨¡å— loadModules(); // æ¨¡æ¿è·¯å¾„ä¸­åŠ å…¥æ¡†æ¶è‡ªå¸¦çš„æ¨¡æ¿æ–‡ä»¶ templatesPath.add(VirtualFile.open(new File(frameworkPath, "framework/templates"))); // åˆå§‹åŒ–classloader classloader = new ApplicationClassloader(); // Fix ctxPath if ("/".equals(Play.ctxPath)) { Play.ctxPath = ""; } // è®¾ç½®cookieåŸŸå Http.Cookie.defaultDomain = configuration.getProperty("application.defaultCookieDomain", null); if (Http.Cookie.defaultDomain!=null) { Logger.info("Using default cookie domain: " + Http.Cookie.defaultDomain); } // åŠ è½½æ’ä»¶ pluginCollection.loadPlugins(); // å¦‚æœæ˜¯prodç›´æ¥å¯åŠ¨ if (mode == Mode.PROD || System.getProperty("precompile") != null) { mode = Mode.PROD; //é¢„ç¼–è¯‘ if (preCompile() && System.getProperty("precompile") == null) { start(); } else { return; } } else { Logger.warn("You're running Play! in DEV mode"); } pluginCollection.onApplicationReady(); Play.initialized = true; } å¦‚ä¸Šé¢çš„ä»£ç æ‰€ç¤ºï¼Œåˆå§‹åŒ–è¿‡ç¨‹ä¸»è¦çš„é¡ºåºä¸ºï¼š
...</p></div><footer class=entry-footer><span title='2018-01-20 15:52:41 +0000 UTC'>January 20, 2018</span>&nbsp;Â·&nbsp;8 min&nbsp;Â·&nbsp;1547 words&nbsp;Â·&nbsp;luyanliang</footer><a class=entry-link aria-label="post link to Play frameworkæºç è§£æ Part3:Playçš„åˆå§‹åŒ–ä¸å¯åŠ¨" href=https://asukaonly.github.io/posts/play-framework/part3play%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%E4%B8%8E%E5%90%AF%E5%8A%A8/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Play frameworkæºç è§£æ Part2:Serverä¸ServletWrapper</h2></header><div class=entry-content><p>åœ¨ä¸Šä¸€èŠ‚ä¸­æˆ‘ä»¬å‰–æäº†Play frameworkçš„å¯åŠ¨åŸç†ï¼Œå¾ˆå®¹æ˜“å°±èƒ½å‘ç°Play frameworkçš„å¯åŠ¨ä¸»å…¥å£åœ¨play.server.Serverä¸­ï¼Œåœ¨æœ¬èŠ‚ï¼Œæˆ‘ä»¬æ¥ä¸€èµ·çœ‹çœ‹Serverç±»ä¸­ä¸»è¦å‘ç”Ÿäº†ä»€ä¹ˆã€‚
Serverç±» æ—¢ç„¶æ˜¯ç¨‹åºè¿è¡Œçš„ä¸»å…¥å£ï¼Œé‚£ä¹ˆå¿…ç„¶æ˜¯ç”±mainæ–¹æ³•è¿›å…¥çš„ï¼ŒServerç±»ä¸­çš„mainæ–¹æ³•ååˆ†ç®€å•ã€‚æºç å¦‚ä¸‹:
public static void main(String[] args) throws Exception { File root = new File(System.getProperty("application.path")); //è·å–å‚æ•°ä¸­çš„precompiled if (System.getProperty("precompiled", "false").equals("true")) { Play.usePrecompiled = true; } //è·å–å‚æ•°ä¸­çš„writepid if (System.getProperty("writepid", "false").equals("true")) { //è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨æ˜¯æ£€æŸ¥å½“å‰ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨server.pidæ–‡ä»¶ï¼Œè‹¥å­˜åœ¨è¡¨æ˜å½“å‰å·²æœ‰ç¨‹åºåœ¨è¿è¡Œ writePID(root); } //Playç±»çš„åˆå§‹åŒ– Play.init(root, System.getProperty("play.id", "")); if (System.getProperty("precompile") == null) { //Serverç±»åˆå§‹åŒ– new Server(args); } else { Logger.info("Done."); } } mainæ–¹æ³•æ‰§è¡Œçš„æ“ä½œå¾ˆç®€å•:
è·å–ç¨‹åºè·¯å¾„ æ£€æŸ¥æ˜¯å¦å­˜åœ¨precompiledå‚æ•° æ£€æŸ¥æ˜¯å¦å­˜åœ¨writepidå‚æ•°ï¼Œè‹¥å­˜åœ¨åˆ™æ£€æŸ¥æ˜¯å¦å­˜åœ¨server.pidæ–‡ä»¶ï¼Œè‹¥å­˜åœ¨åˆ™è¡¨æ˜å·²æœ‰ç¨‹åºåœ¨è¿è¡Œï¼Œä¸å­˜åœ¨åˆ™å°†å½“å‰ç¨‹åºpidå†™å…¥server.pid playç±»åˆå§‹åŒ– æ£€æŸ¥æ˜¯å¦å­˜åœ¨precompileå‚æ•°é¡¹ï¼Œè‹¥å­˜åœ¨è¡¨ç¤ºæ˜¯ä¸ªé¢„ç¼–è¯‘è¡Œä¸ºï¼Œç»“æŸè¿è¡Œï¼Œè‹¥æ²¡æœ‰åˆ™å¯åŠ¨æœåŠ¡ è¿™å…¶ä¸­æœ€é‡è¦çš„ä¾¿æ˜¯Playç±»çš„åˆå§‹åŒ–ä»¥åŠServerç±»çš„åˆå§‹åŒ– è¿™é‡Œæˆ‘ä»¬å…ˆæ¥çœ‹Serverç±»çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼Œç°åœ¨å¯ä»¥å…ˆç®€å•çš„å°†Playç±»çš„åˆå§‹åŒ–ç†è§£ä¸ºPlayæ¡†æ¶ä¸­ä¸€äº›å¸¸é‡çš„åˆå§‹åŒ–ä»¥åŠæ—¥å¿—ã€é…ç½®æ–‡ä»¶ã€è·¯ç”±ä¿¡æ¯ç­‰é…ç½®çš„è¯»å–ã€‚ è¿™é‡Œè´´ä¸€ä¸‹Serverç±»çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼š
public Server(String[] args) { //è®¾ç½®æ–‡ä»¶ç¼–ç ä¸ºUTF-8 System.setProperty("file.encoding", "utf-8"); //pä¸ºPlayç±»åˆå§‹åŒ–è¿‡ç¨‹ä¸­è¯»å–çš„é…ç½®æ–‡ä»¶ä¿¡æ¯ final Properties p = Play.configuration; //è·å–å‚æ•°ä¸­çš„httpä¸httpsç«¯å£ä¿¡æ¯ï¼Œè‹¥ä¸å­˜åœ¨åˆ™ç”¨é…ç½®æ–‡ä»¶ä¸­çš„httpä¸httpsç«¯å£ä¿¡æ¯ httpPort = Integer.parseInt(getOpt(args, "http.port", p.getProperty("http.port", "-1"))); httpsPort = Integer.parseInt(getOpt(args, "https.port", p.getProperty("https.port", "-1"))); //è‹¥æ²¡æœ‰é…ç½®åˆ™è®¾ç½®é»˜è®¤ç«¯å£ä¸º9000 if (httpPort == -1 && httpsPort == -1) { httpPort = 9000; } //httpä¸httpsç«¯å£ä¸èƒ½ç›¸åŒ if (httpPort == httpsPort) { Logger.error("Could not bind on https and http on the same port " + httpPort); Play.fatalServerErrorOccurred(); } InetAddress address = null; InetAddress secureAddress = null; try { //è·å–é…ç½®æ–‡ä»¶ä¸­çš„é»˜è®¤httpåœ°å€ï¼Œè‹¥ä¸å­˜åœ¨åˆ™åœ¨ç³»ç»Ÿå‚æ•°ä¸­æŸ¥æ‰¾ //ä¹‹å‰è¿˜æ˜¯å‚æ•°é…ç½®å¤§äºé…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œä¸çŸ¥é“ä¸ºä»€ä¹ˆåˆå˜æˆäº†é…ç½®æ–‡ä»¶çš„ä¼˜å…ˆçº§é«˜äºå‚æ•°é…ç½®ï¼Œå¾ˆè¿· if (p.getProperty("http.address") != null) { address = InetAddress.getByName(p.getProperty("http.address")); } else if (System.getProperties().containsKey("http.address")) { address = InetAddress.getByName(System.getProperty("http.address")); } } catch (Exception e) { Logger.error(e, "Could not understand http.address"); Play.fatalServerErrorOccurred(); } try { //åŒä¸Šï¼Œè·å–httpsåœ°å€ if (p.getProperty("https.address") != null) { secureAddress = InetAddress.getByName(p.getProperty("https.address")); } else if (System.getProperties().containsKey("https.address")) { secureAddress = InetAddress.getByName(System.getProperty("https.address")); } } catch (Exception e) { Logger.error(e, "Could not understand https.address"); Play.fatalServerErrorOccurred(); } //nettyæœåŠ¡å™¨å¯åŠ¨ç±»åˆå§‹åŒ–ï¼Œä½¿ç”¨nioæœåŠ¡å™¨ï¼Œæ— é™åˆ¶çº¿ç¨‹æ±  //è¿™é‡Œçš„çº¿ç¨‹æ± æ˜¯nettyçš„ä¸»çº¿ç¨‹æ± ä¸å·¥ä½œçº¿ç¨‹æ± ï¼Œæ˜¯å¤„ç†è¿æ¥çš„çº¿ç¨‹æ± ï¼Œè€ŒPlayå®é™…æ‰§è¡Œä¸šåŠ¡æ“ä½œçš„çº¿ç¨‹æ± åœ¨å¦ä¸€ä¸ªåœ°æ–¹é…ç½® ServerBootstrap bootstrap = new ServerBootstrap(new NioServerSocketChannelFactory( Executors.newCachedThreadPool(), Executors.newCachedThreadPool()) ); try { //åˆå§‹åŒ–httpç«¯å£ if (httpPort != -1) { //è®¾ç½®ç®¡é“å·¥å‚ç±» bootstrap.setPipelineFactory(new HttpServerPipelineFactory()); //ç»‘å®šç«¯å£ bootstrap.bind(new InetSocketAddress(address, httpPort)); bootstrap.setOption("child.tcpNoDelay", true); if (Play.mode == Mode.DEV) { if (address == null) { Logger.info("Listening for HTTP on port %s (Waiting a first request to start) ...", httpPort); } else { Logger.info("Listening for HTTP at %2$s:%1$s (Waiting a first request to start) ...", httpPort, address); } } else { if (address == null) { Logger.info("Listening for HTTP on port %s ...", httpPort); } else { Logger.info("Listening for HTTP at %2$s:%1$s ...", httpPort, address); } } } } catch (ChannelException e) { Logger.error("Could not bind on port " + httpPort, e); Play.fatalServerErrorOccurred(); } //ä¸‹é¢æ˜¯httpsç«¯å£æœåŠ¡å™¨çš„å¯åŠ¨è¿‡ç¨‹ï¼Œå’Œhttpä¸€è‡´ bootstrap = new ServerBootstrap(new NioServerSocketChannelFactory( Executors.newCachedThreadPool(), Executors.newCachedThreadPool()) ); try { if (httpsPort != -1) { //è¿™é‡Œçš„ç®¡é“å·¥å‚ç±»å˜æˆäº†SslHttpServerPipelineFactory bootstrap.setPipelineFactory(new SslHttpServerPipelineFactory()); bootstrap.bind(new InetSocketAddress(secureAddress, httpsPort)); bootstrap.setOption("child.tcpNoDelay", true); if (Play.mode == Mode.DEV) { if (secureAddress == null) { Logger.info("Listening for HTTPS on port %s (Waiting a first request to start) ...", httpsPort); } else { Logger.info("Listening for HTTPS at %2$s:%1$s (Waiting a first request to start) ...", httpsPort, secureAddress); } } else { if (secureAddress == null) { Logger.info("Listening for HTTPS on port %s ...", httpsPort); } else { Logger.info("Listening for HTTPS at %2$s:%1$s ...", httpsPort, secureAddress); } } } } catch (ChannelException e) { Logger.error("Could not bind on port " + httpsPort, e); Play.fatalServerErrorOccurred(); } if (Play.mode == Mode.DEV) { // print this line to STDOUT - not using logger, so auto test runner will not block if logger is misconfigured (see #1222) //è¾“å‡ºå¯åŠ¨æˆåŠŸï¼Œä»¥ä¾¿è¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯• System.out.println("~ Server is up and running"); } } serverç±»çš„åˆå§‹åŒ–æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œé‡ç‚¹å°±åœ¨äºé‚£2ä¸ªç®¡é“å·¥å‚ç±»ï¼ŒHttpServerPipelineFactoryä¸SslHttpServerPipelineFactory
...</p></div><footer class=entry-footer><span title='2018-01-11 15:16:54 +0000 UTC'>January 11, 2018</span>&nbsp;Â·&nbsp;9 min&nbsp;Â·&nbsp;1803 words&nbsp;Â·&nbsp;luyanliang</footer><a class=entry-link aria-label="post link to Play frameworkæºç è§£æ Part2:Serverä¸ServletWrapper" href=https://asukaonly.github.io/posts/play-framework/part2server%E4%B8%8Eservletwrapper/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Play frameworkæºç è§£æ Part1: Play framework ä»‹ç»ã€é¡¹ç›®æ„æˆåŠå¯åŠ¨è„šæœ¬è§£æ</h2></header><div class=entry-content><p>æ³¨ï¼šæœ¬ç³»åˆ—æ–‡ç« æ‰€ç”¨playç‰ˆæœ¬ä¸º1.2.6
ä»‹ç» Play frameworkæ˜¯ä¸ªè½»é‡çº§çš„RESTfulæ¡†æ¶ï¼Œè‡´åŠ›äºè®©javaç¨‹åºå‘˜å®ç°å¿«é€Ÿé«˜æ•ˆå¼€å‘ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„ä¼˜åŠ¿ï¼š
çƒ­åŠ è½½ã€‚åœ¨è°ƒè¯•æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰ä¿®æ”¹ä¼šåŠæ—¶ç”Ÿæ•ˆã€‚ æŠ›å¼ƒxmlé…ç½®æ–‡ä»¶ã€‚çº¦å®šå¤§äºé…ç½®ã€‚ æ”¯æŒå¼‚æ­¥ç¼–ç¨‹ æ— çŠ¶æ€mvcæ¡†æ¶ï¼Œæ‹“å±•æ€§è‰¯å¥½ ç®€å•çš„è·¯ç”±è®¾ç½® è¿™é‡Œé™„ä¸ŠPlay frameworkçš„æ–‡æ¡£åœ°å€ï¼Œå®˜æ–¹æœ‰æ›´ä¸ºè¯¦å°½çš„åŠŸèƒ½å™è¿°ã€‚Play frameworkæ–‡æ¡£
é¡¹ç›®æ„æˆ play frameworkçš„åˆå§‹åŒ–éå¸¸ç®€å•ï¼Œåªè¦ä¸‹è½½äº†playçš„è½¯ä»¶åŒ…åï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œplay new xxxå³å¯åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®ã€‚ è‡ªåŠ¨ç”Ÿæˆçš„é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š
è¿è¡Œplayç¨‹åºä¹Ÿéå¸¸ç®€å•ï¼Œåœ¨é¡¹ç›®ç›®å½•ä¸‹ä½¿ç”¨
play run å³å¯è¿è¡Œã€‚
å¯åŠ¨è„šæœ¬è§£æ play frameworkè½¯ä»¶åŒ…ç›®å½• ä¸ºäº†æ›´å¥½çš„äº†è§£play frameworkçš„è¿ä½œåŸç†ï¼Œæˆ‘ä»¬æ¥ä»play frameworkçš„å¯åŠ¨è„šæœ¬å¼€å§‹åˆ†æï¼Œåˆ†æå¯åŠ¨è„šæœ¬æœ‰åŠ©äºæˆ‘ä»¬äº†è§£play frameworkçš„è¿è¡Œè¿‡ç¨‹ã€‚
playçš„å¯åŠ¨è„šæœ¬æ˜¯ä½¿ç”¨pythonç¼–å†™çš„ï¼Œè„šæœ¬çš„å…¥å£ä¸ºplayè½¯ä»¶åŒ…æ ¹ç›®å½•ä¸‹çš„playæ–‡ä»¶,ä¸‹é¢æˆ‘ä»¬å°†ä»playè¿™ä¸ªè„šæœ¬çš„ä¸»å…¥å£å¼€å§‹åˆ†æã€‚
playè„šæœ¬è§£æ playè„šæœ¬åœ¨å¼€å¤´å¼•å…¥äº†3ä¸ªç±»ï¼Œåˆ†åˆ«ä¸ºplay.cmdloader,play.application,play.utilsï¼Œä»æ·»åŠ çš„ç³»ç»Ÿå‚æ•°ä¸­å¯ä»¥çœ‹å‡ºplayå¯åŠ¨è„šæœ¬çš„å­˜æ”¾è·¯å¾„ä¸º framework/pym cmdloader.pyçš„ä¸»è¦ä½œç”¨ä¸ºåŠ è½½framework/pym/commandsä¸‹çš„å„ä¸ªè„šæœ¬æ–‡ä»¶ï¼Œç”¨äºä¹‹åå¯¹å‘½ä»¤å‚æ•°çš„è§£é‡Šè¿è¡Œ application.pyçš„ä¸»è¦ä½œç”¨ä¸ºè§£æé¡¹ç›®è·¯å¾„ä¸‹conf/ä¸­çš„é…ç½®æ–‡ä»¶ã€åŠ è½½æ¨¡å—ã€æ‹¼æ¥æœ€åè¿è¡Œçš„javaå‘½ä»¤
sys.path.append(os.path.join(os.path.dirname(os.path.realpath(sys.argv[0])), 'framework', 'pym')) from play.cmdloader import CommandLoader from play.application import PlayApplication from play.utils import * åœ¨è„šæœ¬çš„å¼€å¤´ï¼Œæœ‰è¿™ä¹ˆä¸€æ®µä»£ç ï¼Œæ„å‘³ç€åªè¦åœ¨playä¸»ç¨‹åºæ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºidçš„æ–‡ä»¶ï¼Œå³å¯è®¾ç½®é»˜è®¤çš„æ¡†æ¶id
play_env["id_file"] = os.path.join(play_env['basedir'], 'id') if os.path.exists(play_env["id_file"]): play_env["id"] = open(play_env["id_file"]).readline().strip() else: play_env["id"] = '' å‘½ä»¤å‚æ•°çš„åˆ†éš”ç”±ä»¥ä¸‹ä»£ç å®Œæˆï¼Œä¾‹å¦‚ä½¿ç”¨äº†play run â€“%test,é‚£ä¹ˆå‚æ•°åˆ—è¡¨å°±æ˜¯
[â€œxxxx\playâ€,â€œrunâ€,"â€“%test"]
è¿™æ®µä»£ç ä¹Ÿè¯´æ˜äº†ï¼Œplayçš„å‘½ä»¤æ ¼å¼ä¸º
...</p></div><footer class=entry-footer><span title='2018-01-03 13:56:21 +0000 UTC'>January 3, 2018</span>&nbsp;Â·&nbsp;5 min&nbsp;Â·&nbsp;1041 words&nbsp;Â·&nbsp;luyanliang</footer><a class=entry-link aria-label="post link to Play frameworkæºç è§£æ Part1: Play framework ä»‹ç»ã€é¡¹ç›®æ„æˆåŠå¯åŠ¨è„šæœ¬è§£æ" href=https://asukaonly.github.io/posts/play-framework/part1-play-framework-%E4%BB%8B%E7%BB%8D%E9%A1%B9%E7%9B%AE%E6%9E%84%E6%88%90%E5%8F%8A%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC%E8%A7%A3%E6%9E%90/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Play frameworkæºç è§£æç›®å½•</h2></header><div class=entry-content><p>è¿™é‡Œå¯¹Play frameworkæºç è§£æåšä¸€ä¸ªå¤§è‡´è§„åˆ’ç›®å½•ï¼Œè¦å†™çš„ç¯‡ç« å¦‚ä¸‹
ç›®å½• Play framework ä»‹ç»ã€é¡¹ç›®æ„æˆåŠå¯åŠ¨è„šæœ¬è§£æâ€“å·²å®Œæˆ Serverä¸ServletWrapperâ€“å·²å®Œæˆ Playçš„åˆå§‹åŒ–ä¸å¯åŠ¨â€“å·²å®Œæˆ ActionInvokerä¸mvc æ¨¡æ¿æ¸²æŸ“ Playæ’ä»¶ classloaderä¸å­—èŠ‚ç å¢å¼º æµ‹è¯• æ•°æ®åº“æ‹“å±• è¾…åŠ©å·¥å…·ç±» å¯¹Playçš„ä¸€äº›æ€è€ƒåŠä¼˜åŒ–æ–¹æ¡ˆ</p></div><footer class=entry-footer><span title='2018-01-01 13:09:05 +0000 UTC'>January 1, 2018</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;16 words&nbsp;Â·&nbsp;luyanliang</footer><a class=entry-link aria-label="post link to Play frameworkæºç è§£æç›®å½•" href=https://asukaonly.github.io/posts/play-framework/play-framework%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E7%9B%AE%E5%BD%95/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://asukaonly.github.io/>404 NOT FOUND</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>